(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{19:function(e,t,n){},20:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),c=n(11),s=n.n(c),o=n(5),l=n(2),i=n(3),b=n(0),j=function(e){return Object(b.jsxs)("div",{className:"hero min-h-screen",style:{backgroundImage:"url('More_Transparent.png')"},children:[Object(b.jsx)("div",{className:"hero-overlay bg-opacity-70 bg-yellow-700"}),Object(b.jsx)("div",{className:"text-center hero-content text-neutral-content",children:Object(b.jsx)("div",{className:"max-w-2xl",children:Object(b.jsx)("h1",{className:"mb-5 text-9xl font-bold",children:e.msg})})})]})},d=function(e){var t=Object(a.useState)(!0),n=Object(i.a)(t,2),r=n[0],c=n[1];return fetch(e).then((function(e){if(!e.ok)throw Error("Could not check if is connected");console.log("0909")})).catch((function(e){c(!1),console.log("There was a error")})),{connected:r}},u=n(6),h=n(9),x=function(e,t){var n=Object(a.useRef)();Object(a.useEffect)((function(){n.current=e}),[e]),Object(a.useEffect)((function(){if(null!==t){var e=setInterval((function(){n.current()}),t);return function(){return clearInterval(e)}}}),[t])},m=function(e){return Object(b.jsxs)("h1",{className:"text-center text-4xl mt-5 font-bold",children:["Winner: ",e.winner]})},O=function(){return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("div",{class:" mt-5 flex justify-center items-center",children:Object(b.jsx)("div",{class:"animate-spin rounded-full h-32 w-32 border-b-2 border-red-800"})}),Object(b.jsx)("h1",{className:"text-center text-2xl mt-5 font-bold ",children:"Waiting for other users"})]})},f=function(e){var t=Object(a.useState)(!1),n=Object(i.a)(t,2),r=n[0],c=n[1],s=Object(a.useState)(!1),o=Object(i.a)(s,2),l=o[0],j=o[1],d=Object(a.useState)(null),f=Object(i.a)(d,2),p=f[0],v=f[1],g=Object(a.useState)({}),N=Object(i.a)(g,2),w=N[0],y=N[1];x((function(){var t={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({roomID:e.roomID})};fetch("api/getResults",t).then((function(e){if(e.ok)return e.text();throw new Error("NOT fully submited yet")})).then((function(e){v(e),j(!l)})).catch((function(e){return console.log(e)}))}),l?3e3:null);var T=function(e){return y((function(t){return Object(h.a)(Object(h.a)({},t),{},Object(u.a)({},e.target.name,e.target.value))}))};return Object(b.jsx)(b.Fragment,{children:Object(b.jsxs)("div",{className:"hero min-h-screen",style:{backgroundImage:"url('More_Transparent.png')"},children:[Object(b.jsx)("div",{className:"hero-overlay bg-opacity-70 bg-yellow-700"}),Object(b.jsxs)("div",{className:"flex-col justify-center hero-content lg:flex-row ",children:[Object(b.jsx)("div",{className:"text-center lg:text-left ",children:Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("h1",{className:"text-gray-50 mb-5 text-5xl font-bold bg-red-800 p-4 rounded-lg",children:e.solo?"Where Are You Going To Eat?":window.location.href}),!e.solo&&Object(b.jsxs)("p",{className:"text-gray-50 mb-5 text-3xl bg-red-800\t p-4 rounded-lg",children:[Object(b.jsx)("div",{className:"inline font-bold",children:"COPY"})," the url.",Object(b.jsx)("div",{className:"inline font-bold",children:" SHARE"})," with friends.",Object(b.jsx)("div",{className:"inline  font-bold",children:" SUBMIT"})," restaurants.",Object(b.jsx)("div",{className:"inline font-bold",children:" GET"})," result."]})]})}),Object(b.jsx)("div",{className:"card flex-shrink-0 w-full max-w-md shadow-2xl bg-base-100",children:Object(b.jsxs)("div",{className:"card-body",children:[Object(b.jsxs)("div",{className:"form-control",children:[Object(b.jsx)("label",{className:"label",children:Object(b.jsx)("span",{className:"label-text",children:"Restaurant / Food One"})}),Object(b.jsx)("input",{type:"text",name:"restaurantOne",value:w.restaurantOne||"",onChange:T,autocomplete:"off",disabled:r,className:"input input-bordered"})]}),Object(b.jsxs)("div",{className:"form-control",children:[Object(b.jsx)("label",{className:"label",children:Object(b.jsx)("span",{className:"label-text",children:"Restaurant / Food Two"})}),Object(b.jsx)("input",{type:"text",name:"restaurantTwo",value:w.restaurantTwo||"",onChange:T,autocomplete:"off",disabled:r,className:"input input-bordered"}),Object(b.jsx)("label",{className:"label",children:Object(b.jsx)("span",{className:"label-text",children:"Restaurant / Food Three"})}),Object(b.jsx)("input",{type:"text",name:"restaurantThree",value:w.restaurantThree||"",onChange:T,autocomplete:"off",disabled:r,className:"input input-bordered"}),Object(b.jsx)("label",{className:"label",children:Object(b.jsx)("span",{className:"label-text",children:"Restaurant / Food Four"})}),Object(b.jsx)("input",{type:"text",name:"restaurantFour",value:w.restaurantFour||"",onChange:T,autocomplete:"off",disabled:r,className:"input input-bordered"})]}),Object(b.jsx)("div",{className:"form-control mt-6",children:Object(b.jsx)("input",{type:"button",onClick:function(t){t.preventDefault(),c(!r);var n=Object.values(w);if(e.solo){var a=Math.floor(Math.random()*n.length);v(n[a])}else{var s={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({roomID:e.roomID,restaurants:n})};fetch("api/setResults",s).then((function(e){if(e.ok)return e.text();throw new Error("NOT good response status")})).then((function(e){return console.log(e)})).catch((function(e){return console.log(e)})),j(!l)}},value:"Submit",className:"btn btn-lg",disabled:r})}),l&&Object(b.jsx)(O,{}),p&&Object(b.jsx)(m,{winner:p})]})})]})]})})},p=function(){var e=Object(o.b)(),t=Object(i.a)(e,1)[0].get("id");return"0000"===t?Object(b.jsx)(f,{solo:!0}):d("api/room?id="+t).connected?Object(b.jsx)(f,{roomID:t}):Object(b.jsx)(j,{msg:"URL not vaild"})},v=n(10),g=n.n(v),N=n(12),w=function(){var e=Object(a.useState)("How Many Users?"),t=Object(i.a)(e,2),n=t[0],r=t[1],c=Object(l.f)();return Object(b.jsxs)("div",{className:"hero min-h-screen",style:{backgroundImage:"url('More_Transparent.png')"},children:[Object(b.jsx)("div",{className:"hero-overlay bg-opacity-70 bg-yellow-700"}),Object(b.jsx)("div",{className:"text-center hero-content text-neutral-content",children:Object(b.jsxs)("div",{className:"max-w-lg",children:[Object(b.jsx)("h1",{className:"mb-5 text-7xl font-bold",children:"Can't Decide Where to Eat?"}),Object(b.jsx)("p",{className:"mb-5 text-2xl",children:"Take the hassle away of choosing on what or where to eat with this collaborative web app."}),Object(b.jsx)("div",{className:"flex justify-evenly",children:Object(b.jsxs)("form",{onSubmit:function(e){if(e.preventDefault(),"How Many Users?"!==n)if(1===Number(n))c("/room?id=0000");else{var t=new FormData;t.append("size",n);var a=function(){var e=Object(N.a)(g.a.mark((function e(){var n,a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("api/generate-url",{method:"POST",body:t});case 3:if((n=e.sent).ok){e.next=6;break}throw new Error("Bad INPUT");case 6:return e.next=8,n.text();case 8:a=e.sent,console.log(a),c("/room?id="+a),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),console.log("Error is "+e.t0);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}();a()}else alert("Choose correct size")},children:[Object(b.jsxs)("select",{value:n,className:"text-black select select-bordered select-lg w-full max-w-xs",onChange:function(e){r(e.target.value)},children:[Object(b.jsx)("option",{value:"How Many Users?",disabled:!0,children:"How Many Users?"}),Object(b.jsx)("option",{value:"1",children:"One"}),Object(b.jsx)("option",{value:"2",children:"Two "}),Object(b.jsx)("option",{value:"3",children:"Three"}),Object(b.jsx)("option",{value:"4",children:"Four"})]}),Object(b.jsx)("button",{className:"btn btn-lg mt-7",children:"Get Started"})]})})]})})]})},y=function(){return Object(b.jsx)(o.a,{children:Object(b.jsxs)(l.c,{children:[Object(b.jsx)(l.a,{path:"/",element:Object(b.jsx)(w,{})}),Object(b.jsx)(l.a,{path:"/room",element:Object(b.jsx)(p,{})}),Object(b.jsx)(l.a,{path:"*",element:Object(b.jsx)(j,{msg:"404 Page Not Found"})})]})})};n(19);s.a.render(Object(b.jsx)(r.a.StrictMode,{children:Object(b.jsx)(y,{})}),document.getElementById("root"))}},[[20,1,2]]]);
//# sourceMappingURL=main.72f47a3b.chunk.js.map